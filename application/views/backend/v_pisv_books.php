<?php /*------------------------------Menu Name: BooksFile Name: V_pisv_books.phpFile Path: D:\projects\php\piscatalogue\application\views\backend\v_pisv_books.phpCreate Date Time: 2022-12-01 14:11:26------------------------------*/$oTab1 = $oTab2 = $oButton = ""; if(trim($o_mode) === "I") { $oTab1 = "active"; $oButton = $o_extra['o_save']; } else { $oTab2 = "active"; $oButton = $o_extra['o_update']." ".$o_extra['o_delete'];} $oButton .= " ".$o_extra['o_cancel']; ?> <div class="nav-tabs-custom"> 	<ul class="nav nav-tabs"> 		<li class="<?php print $oTab1; ?>"><a data-toggle="tab" href="#tab_1">List Books</a></li> 		<li class="<?php print $oTab2; ?>"><a data-toggle="tab" href="#tab_2">Form Books</a></li> 		<li class="pull-right"><a class="text-muted" href=""><i class="fa fa-gear"></i></a></li> 	</ul> 	<div class="tab-content"> 		<div id="tab_1" class="tab-pane <?php print $oTab1; ?>"> 			<div id="div-list-user">				</div> 		</div> 		<div id="tab_2" class="tab-pane <?php print $oTab2; ?>"> 			<form id="form_6388539e86b17" role="form" action="<?php print site_url(); ?>c_pisc_books/gf_transact" method="post"> 				<div class="box-body no-padding"> 					<div class="row">						<div class="col-sm-4 col-xs-12 col-md-4 col-lg-2 form-group" id="div-top"><label>Id 1</label><input allow-empty="false" type="text" placeholder="Id 1" name="txtId1" id="txtId1" class="form-control" maxlength="50" value="<?php print trim($o_mode) === "I" ? "(AUTO)" : trim($o_data[0]['nId1']); ?>" readonly>						</div>						<div class="row"></div>						<div class="col-sm-12 col-xs-12 col-md-4 col-lg-4 form-group"><label>Nama 1</label><input allow-empty="false" type="text" placeholder="Nama 1" name="txtNama1" id="txtNama1" class="form-control" maxlength="100" value="<?php print trim($o_data[0]['sName']); ?>">
						<input type="hidden" name="txtNama1Old" id="txtNama1Old" value="<?php print trim($o_data[0]['sNama1']); ?>" />						</div>					</div> 					<div class="box-footer no-padding"> 					<br /> 					<?php print $oButton; ?> 				</div> 				<input type="hidden" name="hideMode" id="hideMode" value="" /> 			</form> 		</div> 	</div> </div> <script> var sSURL  = "<?php print site_url(); ?>c_pisc_books/gf_upload/" var sParam = ""; var dialog = ""; $(function() { 	gf_load_data(); 	$("input[content-mode='numeric']").autoNumeric('init', {mDec: '0'}); 	$("button[id='button-submit']").click(function() 	{ 		if($.trim($(this).html()) === "Cancel") 			$(".sidebar-menu").find("a[class='text-yellow']").trigger("click");		else 		{ 			var bNext = true; 			var objForm = $("#form_6388539e86b17"); 			//------------------------------------------ 			if($.trim($(this).html()) === "Save") 				$("#hideMode").val("I"); 			else if($.trim($(this).html()) === "Update") 				$("#hideMode").val("U"); 			else if($.trim($(this).html()) === "Delete") 				$("#hideMode").val("D"); 			//------------------------------------------ 			if(parseInt($.inArray($.trim($("#hideMode").val()), ["I", "U"])) !== -1) 			{ 				var oRet = $.gf_valid_form({"oForm": objForm, "oAddMarginLR": true, oObjDivAlert: $("#div-top")}); 				bNext = oRet.oReturnValue; 				} 			if(!bNext) 				return false; 			//------------------------------------------ 			$.gf_custom_ajax({"oForm": objForm,  			"success": function(r)			{				var JSON = $.parseJSON(r.oRespond); 				$.gf_remove_all_modal(); 				if(JSON.status === 1) 					$(".sidebar-menu").find("a[class='text-yellow']").trigger("click");				else 					$.gf_msg_info({oObjDivAlert: $("$div-top"), oAddMarginLR: true, oMessage: JSON.message});				}, 			"validate": true,			"beforeSend": function(r) {},			"beforeSendType": "standard", 			"error": function(r) {} 			}); 		} 	}); }); function gf_load_data() { 	$("#div-list-user").ado_load_paging_data({url: "<?php print site_url(); ?>c_pisc_books/gf_load_data/"}); } </script>